@page "/pie-chart"
@inject IChartService chartService
@inject IJSRuntime jsRuntime
@using Allegiance.Blazor.Highcharts.Constants

<h3>Styled Pie Chart</h3>

<figure class="highcharts-figure">
    <div id="piechart"></div>
</figure>

<h4>Code Example</h4>
<pre class="prettyprint opacity-load">
@@code {
    private PieChart PieChart = new PieChart()
    {
        Chart = new Chart(null, true),
        Tooltip = new Tooltip(false),
        Legend = new Legend(true),
        PlotOptions = new PlotOptions()
        {
            Pie = new Pie()
            {
                AllowPointSelect = false,
                ShowInLegend = true,
                Cursor = CursorType.Pointer,
                DataLabels = new Labels(false),
                States = new States(new Hover(false)),
            },
            Series = null
        },
        Title = new Title("Pie point css"),
        Series = new List&lt;SeriesElement>()
        {
            new SeriesElement()
            {
                Type = ChartType.Pie,
                Data = new List&lt;object>()
                {
                    {new List&lt;object>(){"Consumption", 29.9 } },
                    {new List&lt;object>(){"Consumption",71.5 } },
                    {new List&lt;object>(){"Consumption",106.4 } }
                }
            }
        }
    };

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        chartService.RenderChart("piechart", PieChart.Generate());
        jsRuntime.InvokeVoidAsync("prettyPrint");
    }

}
</pre>


@code {

    private ChartObject PieChart = new ChartObject()
    {
        Chart = new Chart(ChartType.Pie),
        //Chart = new Chart(null, true),
        Tooltip = new Tooltip(false),
        Legend = new Legend(true),
        PlotOptions = new PlotOptions()
        {
            Pie = new Pie()
            {
                AllowPointSelect = false,
                ShowInLegend = true,
                Cursor = CursorType.Pointer,
                DataLabels = new Labels()
                {
                    //Enabled = false
                },
                States = new States(new Hover(false)),
            },
            Series = null
        },
        Title = new Title("Pie point css"),
        Series = new List<SeriesElement>()
{
            new SeriesElement()
            {
                //Type = ChartType.Pie,
                Data = new List<object>()
                {
                    {new List<object>(){"Consumption", 29.9 } },
                    {new List<object>(){"Consumption",71.5 } },
                    {new List<object>(){"Consumption",106.4 } }
                }

            }
        }


    };

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        chartService.RenderChart("piechart", PieChart.Generate());
        jsRuntime.InvokeVoidAsync("prettyPrint");
    }

}
